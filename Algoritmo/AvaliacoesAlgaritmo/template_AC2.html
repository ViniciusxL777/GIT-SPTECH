<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    Selecione o Serviço: <select id="select_servico">
        <option value="#">Escolha uma opção</option>
        <option value="manicure">Manicure</option>
        <option value="barba">Barba</option>
        <option value="cabelo">Cabelo</option>
    </select> <br>


    Selecione o Dia: <select id="select_dia">
        <option value="#">Escolha uma opção</option>
        <option value="segunda"> Segunda-feira </option>
        <option value="terça"> Terça-feira </option>
        <option value="quarta"> Quarta-feira </option>
        <option value="quinta"> Quinta-feira </option>
        <option value="sexta"> Sexta-feira </option>
        <option value="sábado"> Sábado </option>
        <option value="domingo"> Domingo </option>
    </select> <br>

    Selecione o Horário: <select id="select_horario">
        <option value="#">Escolha uma opção</option>
        <option value="0"> 00:00h </option>
        <option value="1"> 01:00h </option>
        <option value="2"> 02:00h </option>
        <option value="3"> 03:00h </option>
        <option value="4"> 04:00h </option>
        <option value="5"> 05:00h </option>
        <option value="6"> 06:00h </option>
        <option value="7"> 07:00h </option>
        <option value="8"> 08:00h </option>
        <option value="9"> 09:00h </option>
        <option value="10"> 10:00h </option>
        <option value="11"> 11:00h </option>
        <option value="12"> 12:00h </option>
        <option value="13"> 13:00h </option>
        <option value="14"> 14:00h </option>
        <option value="15"> 15:00h </option>
        <option value="16"> 16:00h </option>
        <option value="17"> 17:00h </option>
        <option value="18"> 18:00h </option>
        <option value="19"> 19:00h </option>
        <option value="20"> 20:00h </option>
        <option value="21"> 21:00h </option>
        <option value="22"> 22:00h </option>
        <option value="23"> 23:00h </option>
    </select> <br>

    Qual será a recorrência de atendimentos em 1 ano? <input type="number" id="input_recorrencia"> <br>

    <button onclick="realizar()">Realizar Orçamento</button>

    <div id="div_resultado"></div>

</body>

</html>

<script>
    function realizar() {
        var servico = select_servico.value
        var dia = select_dia.value
        var horario = select_horario.value
        var recorrencia = Number(input_recorrencia.value)

        var valor = 0
        var valorFinal = 0
        var valorTotal = 0
        var desconto = 0
        var gratis = 0

        var mensagem = ``

        if (servico == "#" || dia == "#" || horario == "#" || recorrencia == 0) {
            mensagem = `Preencha todos os campos para prosseguir`
            console.log(1);

        } else if (horario != "#") {
            if (horario == "0") {
                horario = 0
            } else if (horario == "1") {
                horario = 1
            } else if (horario == "2") {
                horario = 2
            } else if (horario == "3") {
                horario = 3
            } else if (horario == "4") {
                horario = 4
            } else if (horario == "5") {
                horario = 5
            } else if (horario == "6") {
                horario = 6
            } else if (horario == "7") {
                horario = 7
            } else if (horario == "8") {
                horario = 8
            } else if (horario == "9") {
                horario = 9
            } else if (horario == "10") {
                horario = 10
            } else if (horario == "11") {
                horario = 11
            } else if (horario == "12") {
                horario = 12
            } else if (horario == "13") {
                horario = 13
            } else if (horario == "14") {
                horario = 14
            } else if (horario == "15") {
                horario = 15
            } else if (horario == "16") {
                horario = 16
            } else if (horario == "17") {
                horario = 17
            } else if (horario == "18") {
                horario = 18
            } else if (horario == "19") {
                horario = 19
            } else if (horario == "20") {
                horario = 20
            } else if (horario == "21") {
                horario = 21
            } else if (horario == "22") {
                horario = 22
            } else if (horario == "23") {
                horario = 23
            }

            for (var contagem = 1; contagem <= recorrencia; contagem += 1) {
                if (servico == "manicure") {
                    if (horario >= 8 && horario <= 16) {
                        if (dia == "terça" || dia == "quinta") {
                            desconto = 4
                            if (contagem % 3 == 0) {
                                gratis += 1
                                mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: 0 | Desconto: ${desconto} | Preço Final: 0<br>`
                            } else {
                                valor = 20
                                valorFinal = valor - desconto
                                valorTotal += valorFinal
                                mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: ${valor} | Desconto: ${desconto} | Preço Final: ${valorFinal}<br>`
                            }
                        } else if (contagem % 3 == 0) {
                            gratis += 1
                            mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: 0 | Desconto: ${desconto} | Preço Final: 0<br>`
                        } else {
                            valor = 20
                            valorTotal += valor
                            mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: ${valor} | Desconto: ${desconto} | Preço Final: ${valor}<br>`
                        }
                        if (contagem == recorrencia) {
                            mensagem += `<br>
            Ao longo do ano, você será atendido ${recorrencia} vezes, sendo ${gratis} serviços grátis devido à fidelidade, onde o valor final do orçamento será de ${valorTotal}`
                        }
                    } else {
                        mensagem = `O serviço selecionado não está disponível para esse horário`
                    }

                } else if (servico == "barba") {
                    if (horario >= 13 && horario <= 21) {
                        if (dia == "segunda" || dia == "quarta") {
                            desconto = 3
                            if (contagem % 4 == 0) {
                                gratis += 1
                                mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: 0 | Desconto: ${desconto} | Preço Final: 0<br>`
                            } else {
                                valor = 15
                                valorFinal = valor - desconto
                                valorTotal += valorFinal
                                mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: ${valor} | Desconto: ${desconto} | Preço Final: ${valorFinal}<br>`
                            }
                        } else if (contagem % 4 == 0) {
                            gratis += 1
                            mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: 0 | Desconto: ${desconto} | Preço Final: 0<br>`
                        } else {
                            valor = 15
                            valorTotal += valor
                            mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: ${valor} | Desconto: ${desconto} | Preço Final: ${valor}<br>`
                        }
                        if (contagem == recorrencia) {
                            mensagem += `<br>
            Ao longo do ano, você será atendido ${recorrencia} vezes, sendo ${gratis} serviços grátis devido à fidelidade, onde o valor final do orçamento será de ${valorTotal}`
                        }
                    } else {
                        mensagem = `O serviço selecionado não está disponível para esse horário`
                    }

                } else if (servico == "cabelo") {
                    if (horario >= 0 && horario <= 23) {
                        if (dia == "sexta" || dia == "sábado" || dia == "domingo") {
                            desconto = 5
                            if (contagem % 6 == 0) {
                                gratis += 1
                                mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: 0 | Desconto: ${desconto} | Preço Final: 0<br>`
                            } else {
                                valor = 30
                                valorFinal = valor - desconto
                                valorTotal += valorFinal
                                mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: ${valor} | Desconto: ${desconto} | Preço Final: ${valorFinal}<br>`
                            }
                        } else if (contagem % 6 == 0) {
                            gratis += 1
                            mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: 0 | Desconto: ${desconto} | Preço Final: 0<br>`
                        } else {
                            valor = 30
                            valorTotal += valor
                            mensagem += `Atendimento ${contagem} - Serviço: ${servico} | Dia: ${dia} | Hora: ${horario} | Preço Serviço: ${valor} | Desconto: ${desconto} | Preço Final: ${valor}<br>`
                        }
                        if (contagem == recorrencia) {
                            mensagem += `<br>
            Ao longo do ano, você será atendido ${recorrencia} vezes, sendo ${gratis} serviços grátis devido à fidelidade, onde o valor final do orçamento será de ${valorTotal}`
                        }
                    } else {
                        mensagem = `O serviço selecionado não está disponível para esse horário`
                    }
                }
            }
        }
        div_resultado.innerHTML = mensagem

    }

</script>